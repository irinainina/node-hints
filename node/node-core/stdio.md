## Стандартные потоки ввода/вывода

Для ввода и вывода информации (I/O - input/output) в Node.js существуют стандартные потоки ввода и вывода:

- `process.stdin` - поток ввода
- `process.stdout` - поток вывода
- `process.stderr` - поток ошибки как разновидность потока вывода

Например. уже известный нам `console.log()` для вывода информации использует `process.stdout`.

#### Стандартный поток вывода

Выведем информацию в консоль при помощи `process.stdout`.

```js
const stdout = process.stdout;
stdout.write('Node.js');
```

Метод `stdout.write()` принимает в качестве аргумента строку и выводит её в консоль. В отличие от `console.log()` он не добавляет автоматический перенос в конце строки. При необходимости перенос строки `\n` можно добавить вручную.

#### Стандартный поток ввода

В файле `test.js` напишем и запустим код:

```js
const stdout = process.stdout;
const stdin = process.stdin;
stdin.on('data', (data) => stdout.write(data));
```

При помощи метода `.on()` мы подписываемся на событие `'data'` объекта `stdin`.  
Метод `.on()` принимает два параметра - название события `'data'` и стрелочную функцию `data => stdout.write(data)`, которая выводит в консоль переданные данные.

Теперь, когда мы вводим в консоль какой-то текст и нажимаем клавишу `Enter`, `stdout.write()` возвращает введённый нами текст.

#### Метод process.exit()

Остановить выполнение программы можно нажав комбинацию славиш `Ctrl + C` или использовав метод `process.exit()`.

Метод `process.exit()` может не только остановить работу программы, но и выполнить функцию, которая выполнится в момент завершения программы:

```js
process.on('exit', () => stdout.write('Удачи в изучении Node.js!'));
```

По умолчанию данный метод запускается с параметром "0". Это означает, что операция выполнена успешно. Передача методу параметра "1" или любого другого, отличного от нуля, означает, что работа программы завершилась ошибкой. Благодаря этому можно передать разные сообщения на выходе в зависимости от того, сработала программа как нужно, или работа программы завершилась неудачей.

## Задание

Напишите программу, которая спрашивает у пользователя его имя, после ввода имени приветствует его, указывая имя, а затем прекращает свою работу и прощается с пользователем.

<details>
  <summary>Решение</summary>

```js
const stdout = process.stdout;
const stdin = process.stdin;

stdout.write('Как тебя зовут?\n');
stdin.on('data', (data) => {
  stdout.write('Привет ') + stdout.write(data);
  process.exit();
});
process.on('exit', () => stdout.write('Удачи!'));
```

</details>

#### Buffer

Выполняя предыдущее задание было бы логичнее вместо предложенного решения использовать шаблонную строку:

```js
stdout.write(`Привет ${data}`);
```

Но такой код возвращает ошибку. Выведите в консоль переменную `data` и убедитесь, что строкой она не является. Node.js все входящие данные обрабатывает и преобразует в двоичный формат. Для работы с таким форматом данных в Node.js есть специальный объект Buffer.  
Чтобы решить проблему, достаточно привести `data` к строке:

```js
stdout.write(`Привет ${data.toString()}`);
```

## Задание

Напишите программу, которая спрашивает у пользователя его имя, после ввода имени возвращает указанное пользователем имя наоборот и прекращает работу.

<details>
  <summary>Решение</summary>

```js
const stdout = process.stdout;
const stdin = process.stdin;

stdout.write('Как тебя зовут?\n');
stdin.on('data', (data) => {
  const name = data.toString();
  const reverseName = name.split('').reverse().join('');
  stdout.write(`\nТвоё имя наоборот ${reverseName}`);
  process.exit();
});
```

</details>
